<!DOCTYPE html>
<html lang="en" prefix="og: http://ogp.me/ns# fb: https://www.facebook.com/2008/fbml">
<head>
    <title>The Ramer-Douglas-Peucker Algorithm - Fabian's Website</title>
    <!-- Using the latest rendering mode for IE -->
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">


    <link href="https://0x0b.de/favicon.ico" rel="icon">

<link rel="canonical" href="https://0x0b.de/the-ramer-douglas-peucker-algorithm.html">

        <meta name="author" content="Fabian Hirschmann" />
        <meta name="keywords" content="algorithms,python" />
        <meta name="description" content="A little while ago I was working on a project that dealt with the simplification of rail tracks logged by GPS for the Algorithm Engineering Group of Technische Universität Darmstadt using data provided by Deutsche Bahn. Because the data contained too many coordinates, something had to be done in order ..." />

        <meta property="og:site_name" content="Fabian's Website" />
        <meta property="og:type" content="article"/>
        <meta property="og:title" content="The Ramer-Douglas-Peucker Algorithm"/>
        <meta property="og:url" content="https://0x0b.de/the-ramer-douglas-peucker-algorithm.html"/>
        <meta property="og:description" content="A little while ago I was working on a project that dealt with the simplification of rail tracks logged by GPS for the Algorithm Engineering Group of Technische Universität Darmstadt using data provided by Deutsche Bahn. Because the data contained too many coordinates, something had to be done in order ..."/>
        <meta property="article:published_time" content="2014-03-03" />
            <meta property="article:section" content="misc" />
            <meta property="article:tag" content="algorithms" />
            <meta property="article:tag" content="python" />
            <meta property="article:author" content="Fabian Hirschmann" />


    <!-- Bootstrap -->
        <link rel="stylesheet" href="https://0x0b.de/theme/css/bootstrap.yeti.min.css" type="text/css"/>
    <link href="https://0x0b.de/theme/css/font-awesome.min.css" rel="stylesheet">

    <link href="https://0x0b.de/theme/css/pygments/monokai.css" rel="stylesheet">
    <link rel="stylesheet" href="https://0x0b.de/theme/css/style.css" type="text/css"/>

				<link rel="stylesheet" href="https://code.jquery.com/ui/1.10.4/themes/smoothness/jquery-ui.min.css" type="text/css" />

        <link href="https://0x0b.de/feeds/all.atom.xml" type="application/atom+xml" rel="alternate"
              title="Fabian's Website ATOM Feed"/>



        <link href="https://0x0b.de/feeds/misc.atom.xml" type="application/atom+xml" rel="alternate"
              title="Fabian's Website misc ATOM Feed"/>

</head>
<body>

<div class="navbar navbar-default navbar-fixed-top" role="navigation">
	<div class="container">
        <div class="navbar-header">
            <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-ex1-collapse">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
            <a href="https://0x0b.de/" class="navbar-brand">
Fabian's Website            </a>
        </div>
        <div class="collapse navbar-collapse navbar-ex1-collapse">
            <ul class="nav navbar-nav">
                         <li><a href="https://0x0b.de/pages/about-me.html">
                             About Me
                          </a></li>
                         <li><a href="https://0x0b.de/pages/projects.html">
                             Projects
                          </a></li>
                         <li><a href="https://0x0b.de/pages/publications.html">
                             Publications
                          </a></li>
            </ul>
            <ul class="nav navbar-nav navbar-right">
              <li><a href="https://0x0b.de/archives.html"><i class="fa fa-th-list"></i><span class="icon-label">Archives</span></a></li>
            </ul>
        </div>
        <!-- /.navbar-collapse -->
    </div>
</div> <!-- /.navbar -->
<!-- Banner -->
<!-- End Banner -->
<div class="container">
    <div class="row">
        <div class="col-lg-12">
    <section id="content">
        <article>
            <header class="page-header">
                <h1>
                    <a href="https://0x0b.de/the-ramer-douglas-peucker-algorithm.html"
                       rel="bookmark"
                       title="Permalink to The Ramer-Douglas-Peucker Algorithm">
                        The Ramer-Douglas-Peucker Algorithm
                    </a>
                </h1>
            </header>
            <div class="entry-content">
                <div class="panel">
                    <div class="panel-body">
<footer class="post-info">
    <span class="label label-default">Date</span>
    <span class="published">
        <i class="fa fa-calendar"></i><time datetime="2014-03-03T22:00:00+01:00"> Mon 03 March 2014</time>
    </span>





<span class="label label-default">Tags</span>
	<a href="https://0x0b.de/tag/algorithms.html">algorithms</a>
        /
	<a href="https://0x0b.de/tag/python.html">python</a>
    
</footer><!-- /.post-info -->                    </div>
                </div>
                <p>A little while ago I was working on a project that dealt with the simplification
of rail tracks logged by GPS for the 
<a href="http://www.algo.informatik.tu-darmstadt.de/algorithmics/?L=1">Algorithm Engineering Group</a>
of <a href="http://www.tu-darmstadt.de/index.en.jsp">Technische Universität Darmstadt</a>
using data provided by <a href="http://www.bahn.de">Deutsche Bahn</a>.</p>
<p>Because the data contained too many coordinates, something had to be done in order
to reduce the number of points the rail tracks were representy by.
The Ramer-Douglas-Peucker algorithm
<a href='#ramer1972iterative' id='ref-ramer1972iterative-1'>Ramer (1972)</a> and <a href='#douglas1973algorithms' id='ref-douglas1973algorithms-1'>Douglas and Peucker (1973)</a>,
an algorithm used for reducing the number of points in a curve,
came in quite handy for this task.</p>
<h2>Visualization</h2>
<p>In the graph below you can see the algorithm in action. Move and release the slider in order
to see the results of the RDP algorithm applied to the problem at hand.</p>
<div id="placeholder" style="width:600px;height:400px;align:middle;"></div>

<div id="sliderbox" style="width:600px"></div>

<div id="slider" style="width:570px;margin-left:15px;margin-top:10px;"></div>

<div style="margin-top:10px;margin-left:10px;">
<b>ε = </b><b id="epsilon"></b> <br />
<span style="color:#ba2762;font-weight:bold">Original # of points: </span><b id="c1"></b>
</br>
<span style="color:#659e5f;font-weight:bold">Simplified # of points: </span><b id="c2"></b>
</div>

<p><br /></p>
<h2>Python Implementation</h2>
<p>I've created a <a href="https://pypi.python.org/pypi/rdp/">Python implementation of the RDP algorithm</a>,
which can be installed via pip:</p>
<div class="highlight"><pre>pip install rdp
</pre></div>


<p>And be used like this:</p>
<div class="highlight"><pre><span class="kn">from</span> <span class="nn">rdp</span> <span class="kn">import</span> <span class="n">rdp</span>

<span class="n">res</span> <span class="o">=</span> <span class="n">rdp</span><span class="p">([[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">],</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mf">1.1</span><span class="p">],</span> <span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">]],</span> <span class="n">epsilon</span><span class="o">=</span><span class="mf">0.5</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="n">res</span><span class="p">)</span>
</pre></div>


<div class="highlight"><pre>## [[1.0, 1.0], [2.0, 2.0]]
</pre></div>


<p>Behind the scenes, this implementation uses <a href="http://www.numpy.org/">numpy</a> and hence supports
passing a numpy array as well.</p>
<p>As far as the Point-Line-Distance in 2-Dimensional space is concerned, linear algebra comes
to the rescue. The implementation uses a custom distance function: If the line is specified
by two points <span class="math">\(\textbf{x}_1 = (x_1, y_1)\)</span> and <span class="math">\(\textbf{x}_2 = (x_2, y_2)\)</span>, then the distance
from the point <span class="math">\(\textbf{x}_0 = (x_0, y_0)\)</span> is given by</p>
<p><span class="math">\(d = \frac{|\text{det}(\textbf{x}_2 - \textbf{x}_1 \textbf{x}_1 - \textbf{x}_0)|}{|\textbf{x}_2 - \textbf{x}_1|}\)</span></p>
<p>where <span class="math">\(\text{det}(A)\)</span> denotes a determinant. The derivation of this formula can be found on 
<a href="http://mathworld.wolfram.com/Point-LineDistance2-Dimensional.html">Wolfram MathWorld</a>.
This can be translated into python as follows:</p>
<div class="highlight"><pre><span class="kn">import</span> <span class="nn">numpy</span> <span class="kn">as</span> <span class="nn">np</span>

<span class="k">def</span> <span class="nf">pldist</span><span class="p">(</span><span class="n">x0</span><span class="p">,</span> <span class="n">x1</span><span class="p">,</span> <span class="n">x2</span><span class="p">):</span>
    <span class="k">if</span> <span class="n">x1</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">==</span> <span class="n">x2</span><span class="p">[</span><span class="mi">0</span><span class="p">]:</span>
        <span class="k">return</span> <span class="n">np</span><span class="o">.</span><span class="n">abs</span><span class="p">(</span><span class="n">x0</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">-</span> <span class="n">x1</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>

    <span class="k">return</span> <span class="n">np</span><span class="o">.</span><span class="n">divide</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">linalg</span><span class="o">.</span><span class="n">norm</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">linalg</span><span class="o">.</span><span class="n">det</span><span class="p">([</span><span class="n">x2</span> <span class="o">-</span> <span class="n">x1</span><span class="p">,</span> <span class="n">x1</span> <span class="o">-</span> <span class="n">x0</span><span class="p">])),</span>
                     <span class="n">np</span><span class="o">.</span><span class="n">linalg</span><span class="o">.</span><span class="n">norm</span><span class="p">(</span><span class="n">x2</span> <span class="o">-</span> <span class="n">x1</span><span class="p">))</span>
</pre></div>


<script type="text/javascript">if (!document.getElementById('mathjaxscript_pelican_#%&#64;#$&#64;#')) {
    var align = "center",
        indent = "0em",
        linebreak = "false";

    if (false) {
        align = (screen.width < 768) ? "left" : align;
        indent = (screen.width < 768) ? "0em" : indent;
        linebreak = (screen.width < 768) ? 'true' : linebreak;
    }

    var mathjaxscript = document.createElement('script');
    var location_protocol = (false) ? 'https' : document.location.protocol;
    if (location_protocol !== 'http' && location_protocol !== 'https') location_protocol = 'https:';
    mathjaxscript.id = 'mathjaxscript_pelican_#%&#64;#$&#64;#';
    mathjaxscript.type = 'text/javascript';
    mathjaxscript.src = location_protocol + '//cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML';
    mathjaxscript[(window.opera ? "innerHTML" : "text")] =
        "MathJax.Hub.Config({" +
        "    config: ['MMLorHTML.js']," +
        "    TeX: { extensions: ['AMSmath.js','AMSsymbols.js','noErrors.js','noUndefined.js'], equationNumbers: { autoNumber: 'AMS' } }," +
        "    jax: ['input/TeX','input/MathML','output/HTML-CSS']," +
        "    extensions: ['tex2jax.js','mml2jax.js','MathMenu.js','MathZoom.js']," +
        "    displayAlign: '"+ align +"'," +
        "    displayIndent: '"+ indent +"'," +
        "    showMathMenu: true," +
        "    messageStyle: 'normal'," +
        "    tex2jax: { " +
        "        inlineMath: [ ['\\\\(','\\\\)'] ], " +
        "        displayMath: [ ['$$','$$'] ]," +
        "        processEscapes: true," +
        "        preview: 'TeX'," +
        "    }, " +
        "    'HTML-CSS': { " +
        "        styles: { '.MathJax_Display, .MathJax .mo, .MathJax .mi, .MathJax .mn': {color: 'inherit ! important'} }," +
        "        linebreaks: { automatic: "+ linebreak +", width: '90% container' }," +
        "    }, " +
        "}); " +
        "if ('default' !== 'default') {" +
            "MathJax.Hub.Register.StartupHook('HTML-CSS Jax Ready',function () {" +
                "var VARIANT = MathJax.OutputJax['HTML-CSS'].FONTDATA.VARIANT;" +
                "VARIANT['normal'].fonts.unshift('MathJax_default');" +
                "VARIANT['bold'].fonts.unshift('MathJax_default-bold');" +
                "VARIANT['italic'].fonts.unshift('MathJax_default-italic');" +
                "VARIANT['-tex-mathit'].fonts.unshift('MathJax_default-italic');" +
            "});" +
            "MathJax.Hub.Register.StartupHook('SVG Jax Ready',function () {" +
                "var VARIANT = MathJax.OutputJax.SVG.FONTDATA.VARIANT;" +
                "VARIANT['normal'].fonts.unshift('MathJax_default');" +
                "VARIANT['bold'].fonts.unshift('MathJax_default-bold');" +
                "VARIANT['italic'].fonts.unshift('MathJax_default-italic');" +
                "VARIANT['-tex-mathit'].fonts.unshift('MathJax_default-italic');" +
            "});" +
        "}";
    (document.body || document.getElementsByTagName('head')[0]).appendChild(mathjaxscript);
}
</script><hr>
<h2>Bibliography</h2>
<p id='douglas1973algorithms'>David&nbsp;H Douglas and Thomas&nbsp;K Peucker.
Algorithms for the reduction of the number of points required to represent a digitized line or its caricature.
<em>Cartographica: The International Journal for Geographic Information and Geovisualization</em>, 10(2):112–122, 1973. <a class="cite-backref" href="#ref-douglas1973algorithms-1" title="Jump back to reference 1">↩</a></p>
<p id='ramer1972iterative'>Urs Ramer.
An iterative procedure for the polygonal approximation of plane curves.
<em>Computer Graphics and Image Processing</em>, 1(3):244–256, 1972. <a class="cite-backref" href="#ref-ramer1972iterative-1" title="Jump back to reference 1">↩</a></p>

            </div>
            <!-- /.entry-content -->
    <hr/>
    <section class="comments" id="comments">
        <h2>Comments</h2>

        <div id="disqus_thread"></div>
        <script type="text/javascript">
            /* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
            var disqus_shortname = '0x0b'; // required: replace example with your forum shortname

                    var disqus_identifier = 'the-ramer-douglas-peucker-algorithm';
                var disqus_url = 'https://0x0b.de/the-ramer-douglas-peucker-algorithm.html';

            var disqus_config = function () {
                this.language = "en";
            };

            /* * * DON'T EDIT BELOW THIS LINE * * */
            (function () {
                var dsq = document.createElement('script');
                dsq.type = 'text/javascript';
                dsq.async = true;
                dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
                (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
            })();
        </script>
        <noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by
            Disqus.</a></noscript>
        <a href="http://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>

    </section>
        </article>
    </section>

        </div>
    </div>
</div>
<footer>
	<div class="container">
		<hr>
		<div class="row">
			<div class="col-xs-10">&copy; 2009 – 2015 Fabian Hirschmann
				&middot; <a href="https://0x0b.de/pages/legal-notice.html">legal notice</a>
				&middot; <a href="https://0x0b.de/pages/datenschutzerklarung.html">privacy statement</a>			</div>
			<div class="col-xs-2"><p class="pull-right"><i class="fa fa-arrow-up"></i> <a href="#">Back to top</a></p></div>
		</div>
		<div class="row pull-right">
			<ul class="list-group" id="social">
				<li class="list-group-item"><a href="https://github.com/fhirschmann"><i class="fa fa-github fa"></i> Github</a></li>
				<li class="list-group-item"><a href="mailto:fabian@hirschmann.email"><i class="fa fa-pencil fa"></i> Mail</a></li>
				<li class="list-group-item"><a href="http://www.facebook.com/fhirschmann"><i class="fa fa-facebook fa"></i> Facebook</a></li>
				<li class="list-group-item"><a href="http://www.linkedin.com/in/fhirschmann"><i class="fa fa-linkedin fa"></i> LinkedIn</a></li>
				<li class="list-group-item"><a href="https://www.xing.com/profile/Fabian_Hirschmann2"><i class="fa fa-xing fa"></i> Xing</a></li>
				<li class="list-group-item"><a href="bitcoin:16Mhwr5U9JVvVLEGwyPqyR1WE8qaJtzsin"><i class="fa fa-bitcoin fa"></i> BTC</a></li>
			</ul>
		</div>
	</div>
</footer>
<script src="https://0x0b.de/theme/js/jquery.min.js"></script>

<!-- Include all compiled plugins (below), or include individual files as needed -->
<script src="https://0x0b.de/theme/js/bootstrap.min.js"></script>

<!-- Enable responsive features in IE8 with Respond.js (https://github.com/scottjehl/Respond) -->
<script src="https://0x0b.de/theme/js/respond.min.js"></script>

    <!-- Disqus -->
    <script type="text/javascript">
        /* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
        var disqus_shortname = '0x0b'; // required: replace example with your forum shortname

        /* * * DON'T EDIT BELOW THIS LINE * * */
        (function () {
            var s = document.createElement('script');
            s.async = true;
            s.type = 'text/javascript';
            s.src = '//' + disqus_shortname + '.disqus.com/count.js';
            (document.getElementsByTagName('HEAD')[0] || document.getElementsByTagName('BODY')[0]).appendChild(s);
        }());
    </script>
    <!-- End Disqus Code -->

<script src="https://code.jquery.com/ui/1.10.4/jquery-ui.min.js"></script>
<script src="https://0x0b.de/js/jquery.flot.js"></script>
<script src="https://0x0b.de/js/rdp.js"></script>
</body>
</html>